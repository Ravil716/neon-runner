<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Neon Runner</title>
  <link rel="stylesheet" href="style.css" />

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <div id="game-container">
    
    <canvas id="gameCanvas"></canvas>

    <div class="ui-layer">
      
      <div class="header-bar">
        <div class="logo">NEON RUNNER</div>

        <div class="hud-controls">
          <div class="stat-pill score">SCORE <span id="scoreValue">0</span></div>
          <div class="stat-pill coins">üü° <span id="coinValue">0</span></div>
          
          <div class="btn-group">
            <button id="bankButton" class="circle-btn green-btn">+</button>
            <button id="shopButton" class="circle-btn">üõí</button>
            <button id="leaderboardButton" class="circle-btn">üèÜ</button>
          </div>
        </div>
      </div>

      <div id="tapHint" class="tap-hint">–ù–ê–ñ–ú–ò–¢–ï –ß–¢–û–ë–´ –ù–ê–ß–ê–¢–¨</div>

    </div> 
    <div id="gameOverOverlay" class="overlay hidden">
      <div class="modal-box">
        <h2 class="neon-text-pink">GAME OVER</h2>
        <div class="results">
          <p>–°—á—ë—Ç: <span id="finalScoreValue" class="val-cyan">0</span></p>
          <p>–ú–æ–Ω–µ—Ç—ã: <span id="roundCoinsValue" class="val-gold">0</span></p>
          <p>–í—Å–µ–≥–æ: <span id="totalCoinsValue" class="val-gold">0</span></p>
        </div>
        <button id="restartButton" class="big-btn">RESTART</button>
      </div>
    </div>

    <div id="shopOverlay" class="overlay hidden">
      <div class="modal-box wide">
        <div class="modal-header">
          <h2 class="neon-text-pink">–ú–∞–≥–∞–∑–∏–Ω</h2>
          <button id="shopCloseButton" class="close-cross">‚úï</button>
        </div>
        <div id="shopGrid" class="scrollable-grid"></div>
      </div>
    </div>

    <div id="bankOverlay" class="overlay hidden">
      <div class="modal-box wide">
        <div class="modal-header">
          <h2 class="neon-text-green">Bank</h2>
          <button id="bankCloseButton" class="close-cross">‚úï</button>
        </div>
        <div id="bankGrid" class="scrollable-grid"></div>
      </div>
    </div>

    <div id="leaderboardOverlay" class="overlay hidden">
      <div class="modal-box wide">
        <div class="modal-header">
          <h2 class="neon-text-cyan">TOP 10</h2>
          <button id="leaderboardCloseButton" class="close-cross">‚úï</button>
        </div>
        <div id="leaderboardLoading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <div class="table-wrapper">
            <table class="leader-table">
                <tbody id="leaderboardBody"></tbody>
            </table>
        </div>
      </div>
    </div>

  </div>

  <script src="script.js"></script>
  <script>
    if (window.Telegram?.WebApp) {
      window.Telegram.WebApp.ready();
      window.Telegram.WebApp.expand();
      window.Telegram.WebApp.setHeaderColor('#000000');
      window.Telegram.WebApp.setBackgroundColor('#000000');
    }
  </script>
</body>
</html>